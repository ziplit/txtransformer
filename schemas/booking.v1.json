{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "urn:ziplit:schema:booking:v1",
  "title": "Booking Confirmation",
  "description": "Hotel, travel, or accommodation booking confirmation",
  "domain": "booking",
  "version": "v1",
  "vendor_tags": ["airbnb", "booking.com", "expedia", "hotels.com", "vrbo"],
  "type": "object",
  "properties": {
    "bookingId": {
      "type": "string",
      "description": "Unique booking identifier"
    },
    "confirmationNumber": {
      "type": "string",
      "description": "Confirmation number (may differ from bookingId)"
    },
    "provider": {
      "type": "string",
      "description": "Booking platform or service provider"
    },
    "bookingDate": {
      "type": "string",
      "format": "date-time",
      "description": "Date and time when booking was made"
    },
    "propertyName": {
      "type": "string",
      "description": "Name of the hotel or property"
    },
    "propertyType": {
      "type": "string",
      "enum": [
        "hotel",
        "apartment",
        "house",
        "room",
        "resort",
        "hostel",
        "other"
      ],
      "description": "Type of accommodation"
    },
    "address": {
      "$ref": "#/definitions/address",
      "description": "Property address"
    },
    "guest": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string"
        },
        "email": {
          "type": "string",
          "format": "email"
        },
        "phone": {
          "type": "string"
        }
      },
      "required": ["name"],
      "description": "Primary guest information"
    },
    "checkInDate": {
      "type": "string",
      "format": "date",
      "description": "Check-in date"
    },
    "checkOutDate": {
      "type": "string",
      "format": "date",
      "description": "Check-out date"
    },
    "checkInTime": {
      "type": "string",
      "pattern": "^([01]?[0-9]|2[0-3]):[0-5][0-9]$",
      "description": "Check-in time (HH:MM format)"
    },
    "checkOutTime": {
      "type": "string",
      "pattern": "^([01]?[0-9]|2[0-3]):[0-5][0-9]$",
      "description": "Check-out time (HH:MM format)"
    },
    "nights": {
      "type": "integer",
      "minimum": 1,
      "description": "Number of nights"
    },
    "guests": {
      "type": "object",
      "properties": {
        "adults": {
          "type": "integer",
          "minimum": 1
        },
        "children": {
          "type": "integer",
          "minimum": 0
        },
        "total": {
          "type": "integer",
          "minimum": 1
        }
      },
      "description": "Guest count details"
    },
    "rooms": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "type": {
            "type": "string",
            "description": "Room type"
          },
          "description": {
            "type": "string",
            "description": "Room description"
          },
          "quantity": {
            "type": "integer",
            "minimum": 1
          },
          "rate": {
            "type": "number",
            "minimum": 0,
            "description": "Rate per night"
          }
        }
      },
      "description": "Room details"
    },
    "pricing": {
      "type": "object",
      "properties": {
        "roomRate": {
          "type": "number",
          "minimum": 0
        },
        "taxes": {
          "type": "number",
          "minimum": 0
        },
        "fees": {
          "type": "number",
          "minimum": 0
        },
        "discount": {
          "type": "number",
          "minimum": 0
        },
        "total": {
          "type": "number",
          "minimum": 0
        }
      },
      "description": "Pricing breakdown"
    },
    "currency": {
      "type": "string",
      "pattern": "^[A-Z]{3}$",
      "description": "Currency code (ISO 4217)"
    },
    "status": {
      "type": "string",
      "enum": ["confirmed", "pending", "cancelled", "completed"],
      "description": "Booking status"
    },
    "cancellationPolicy": {
      "type": "string",
      "description": "Cancellation policy details"
    },
    "specialRequests": {
      "type": "string",
      "description": "Special requests or notes"
    }
  },
  "required": ["bookingId", "checkInDate", "checkOutDate"],
  "definitions": {
    "address": {
      "type": "object",
      "properties": {
        "street": {
          "type": "string"
        },
        "city": {
          "type": "string"
        },
        "state": {
          "type": "string"
        },
        "postalCode": {
          "type": "string"
        },
        "country": {
          "type": "string"
        }
      }
    }
  },
  "examples": [
    {
      "bookingId": "BK123456789",
      "confirmationNumber": "ABC123",
      "provider": "Booking.com",
      "propertyName": "Grand Hotel Downtown",
      "checkInDate": "2024-09-15",
      "checkOutDate": "2024-09-17",
      "nights": 2,
      "guest": {
        "name": "John Doe",
        "email": "john@example.com"
      },
      "guests": {
        "adults": 2,
        "children": 0,
        "total": 2
      },
      "pricing": {
        "roomRate": 200,
        "taxes": 32,
        "total": 232
      },
      "currency": "USD",
      "status": "confirmed"
    }
  ]
}
